<script>
    class Entity extends RenderedElement {
        constructor(ctx, opts) {
            super(ctx, opts);
        }

        moveTo (x = 0, y = 0) {
            let diff = {
                x: x - (this.x || 0),
                y: y - (this.y || 0)
            }

            this.x = x;
            this.y = y;

            if (this.body) {
                this.body.x += diff.x;
                this.body.y += diff.y;
            }

        }

        move (x = 0, y = 0) {
            this.moveTo(this.x + x, this.y + y);
        }

        getRect () {
            return this.body && this.body.getRect ? this.body.getRect() : super.getRect();
        }

        collisionCallback () {}
    }
</script>